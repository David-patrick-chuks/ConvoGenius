Improve type safety in resources and train routes
